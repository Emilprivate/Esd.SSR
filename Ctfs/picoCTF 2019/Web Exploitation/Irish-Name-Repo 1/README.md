# Writeup for picoCTF 2019 : Irish-Name-Repo 1

## Tools:
- Web browser
- SQL injection techniques
- Database query analysis
- Authentication bypass methods

## Steps:

### 1. Initial Challenge Analysis
This challenge presented me with a web application that appeared to be some form of repository or database system with an Irish theme. The challenge required me to find a way to access protected content or retrieve the flag through web application exploitation techniques.

The application provided a login interface, immediately suggesting that I would need to bypass authentication mechanisms to gain access to restricted areas.

### 2. Examining the Application Structure
When I first accessed the web application, I was presented with a login form that requested username and password credentials. During my initial exploration, I noticed several important details:

- The URL showed "login.php" when accessing the login page, indicating the use of PHP for server-side processing
- The challenge hints mentioned the presence of a database, suggesting that user credentials were stored and validated through database queries
- The application appeared to use standard web technologies that might be vulnerable to common web exploitation techniques

### 3. Understanding the Database Context
The challenge hint explicitly mentioned that there was a database involved in the authentication process. This information was crucial because it indicated that:

- User credentials were likely stored in a database table
- The login process probably involved SQL queries to validate user input
- The application might be vulnerable to SQL injection attacks if input validation was insufficient

### 4. Developing the SQL Injection Strategy
With the knowledge that a database was involved in the authentication process, I began testing for SQL injection vulnerabilities. My approach was to craft input that would manipulate the underlying SQL query to bypass the normal authentication logic.

The standard SQL injection technique for authentication bypass involves making the WHERE clause of the authentication query always evaluate to true, effectively bypassing the need for valid credentials.

### 5. Crafting the SQL Injection Payload
I constructed a classic SQL injection payload designed to bypass the authentication mechanism:

```
' or 1=1 --
```

This payload works by:
- `'` - closing the username string parameter in the SQL query
- `or 1=1` - adding a condition that is always true
- `--` - commenting out the rest of the query, including password validation

### 6. Understanding the Query Manipulation
When I submitted the SQL injection payload, it transformed the original authentication query from something like:

```sql
SELECT * FROM users WHERE username = '[user_input]' AND password = '[password_input]'
```

Into:

```sql
SELECT * FROM users WHERE username = '' OR 1=1 -- AND password = '[password_input]'
```

The commented portion (`-- AND password = '[password_input]'`) is ignored by the database, and since `1=1` is always true, the query returns all users in the database, effectively bypassing the authentication requirement.

### 7. Successful Authentication Bypass
When I executed the SQL injection attack by entering the payload in the username field, the application accepted the malformed query and granted me access. The database query returned results (since `1=1` is always true), which the application interpreted as successful authentication.

### 8. Flag Discovery and Verification
Upon successful authentication bypass, the application granted me access to the protected area and revealed the flag. This confirmed that my SQL injection approach was successful and that the application was indeed vulnerable to this type of attack.

### 9. Learning Outcomes
This challenge effectively demonstrated several important web security concepts:

- **SQL injection vulnerabilities**: How insufficient input validation can lead to database manipulation
- **Authentication bypass techniques**: Methods for circumventing login systems through query manipulation
- **Database query logic**: Understanding how SQL queries can be manipulated through user input
- **Web application security**: The importance of proper input sanitization and parameterized queries

The challenge highlighted the critical need for proper input validation and the use of prepared statements to prevent SQL injection attacks in web applications.

## Flag:
```picoCTF{s0m3_SQL_c218b685}```
