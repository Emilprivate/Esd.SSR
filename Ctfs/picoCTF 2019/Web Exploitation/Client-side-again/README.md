# Writeup for picoCTF 2019 : Client-side-again

## Tools:
- Web browser with developer tools
- JavaScript source code inspection
- Online JavaScript beautifier
- Code obfuscation analysis

## Steps:

### 1. Initial Challenge Analysis
This challenge presented me with a web application that appeared to have some form of password verification system. The challenge title "Client-side-again" immediately suggested that this was a sequel to a previous client-side challenge, likely with similar concepts but potentially more sophisticated obfuscation techniques.

The title effectively indicated that I should examine the client-side JavaScript code to find the hidden validation logic or flag information.

### 2. Examining the Client-Side JavaScript
When I first accessed the web application and inspected its source code using the browser's developer tools, I discovered that the JavaScript code was heavily obfuscated. The obfuscation made the code difficult to read and understand at first glance.

The obfuscated code appeared to use techniques such as:
- Variable name mangling with cryptic identifiers
- String encoding and array-based storage
- Complex control flow structures
- Minimized formatting without proper indentation

### 3. Understanding JavaScript Obfuscation
The obfuscation encountered in this challenge was designed to:
- Hide the actual program logic from casual inspection
- Protect sensitive information like passwords or flags
- Discourage reverse engineering attempts
- Make the code appear more complex than it actually was

However, JavaScript obfuscation is primarily security through obscurity and can be reversed with the right techniques and tools.

### 4. Using JavaScript Beautification Tools
To make the obfuscated code more readable, I used an online JavaScript beautifier tool. These tools can:
- Add proper indentation and formatting
- Expand minimized code structures
- Make variable assignments more visible
- Reveal the underlying code organization

The beautification process transformed the compressed, unreadable code into a more structured format that I could analyze systematically.

### 5. Discovering the String Array
After beautifying the JavaScript code, I was able to identify the program's structure more clearly. The most significant discovery was a global array that contained various strings used throughout the program.

The key finding was this array:
```javascript
var _0x5a46 = ['f49bf}', '_again_e', 'this', 'Password\x20Verified', 'Incorrect\x20password', 'getElementById', 'value', 'substring', 'picoCTF{', 'not_this'];
```

This array contained multiple strings, including what appeared to be components of the flag mixed with functional strings used by the program.

### 6. Analyzing the String Array Contents
Upon examining the array contents, I could identify several types of strings:
- **Flag components**: Strings that appeared to be parts of a picoCTF flag
- **UI messages**: Strings like 'Password\x20Verified' and 'Incorrect\x20password'
- **JavaScript functions**: Strings like 'getElementById', 'value', 'substring'
- **Flag structure**: The recognizable 'picoCTF{' flag prefix

### 7. Reconstructing the Flag Using Logic
Using common sense and understanding of the picoCTF flag format, I analyzed how the flag components in the array could be combined:

- Start with the flag prefix: `'picoCTF{'`
- Combine relevant string fragments: `'not_this'`, `'_again_e'`, and `'f49bf}'`
- The logical reconstruction would be: `picoCTF{not_this_again_ef49bf}`

The arrangement followed a pattern that made sense given the challenge title "Client-side-again" and the presence of related strings in the array.

### 8. Verification and Solution
The reconstructed flag followed the expected picoCTF format and contained content that was thematically consistent with the challenge title. The presence of "not_this_again" in the flag was particularly fitting given that this was a sequel challenge.

### 9. Learning Outcomes
This challenge effectively demonstrated several important web security concepts:
- **JavaScript obfuscation limitations**: How client-side obfuscation can be reversed with proper tools
- **String array analysis**: Techniques for extracting meaningful data from obfuscated code
- **Pattern recognition**: Using logical deduction to reconstruct hidden information
- **Client-side security weaknesses**: Why sensitive information should never be stored in client-side code

The challenge reinforced that any security mechanism implemented purely on the client side can be bypassed through code analysis and reverse engineering.

## Flag:
```picoCTF{not_this_again_ef49bf}```
